<!-- =============================== -->
<!--  TESTIMONIALS • Premium Section -->
<!--  Paste into ONE WP “Custom HTML” block -->
<!--  Fully namespaced to #pro-testimonials (no global leaks) -->
<!-- =============================== -->
<section id="pro-testimonials" aria-label="Client testimonials">
  <style>
    /* ---------- Brand Tokens (edit as needed) ---------- */
    #pro-testimonials{
      --brand-bg: #075B74;             /* deep teal (from screenshot) */
      --brand-bg-2:#0E6D88;            /* subtle gradient partner */
      --brand-ink:#ffffff;             /* primary text on teal */
      --brand-muted: rgba(255,255,255,.72);
      --brand-faint: rgba(255,255,255,.18);
      --accent:#DDF3FF;                /* soft highlight for details */
      --focus:#FFFFFF;                 /* focus ring on dark bg */
      --radius: 18px;
      --shadow: 0 30px 100px rgba(0,0,0,.35);
      --wrap: min(1020px, 92vw);
      --h1: clamp(26px, 4vw, 48px);
      --h2: clamp(20px, 2.8vw, 28px);
      --lead: clamp(18px, 2.2vw, 24px);
      --body: clamp(15px, 1.8vw, 18px);
      --slow: 700ms;
      --fast: 320ms;
      --e: cubic-bezier(.2,.7,.2,1);
    }

    /* ---------- Section Canvas ---------- */
    #pro-testimonials{
      position: relative;
      isolation: isolate;
      color: var(--brand-ink);
      background:
        radial-gradient(1400px 600px at 50% -10%, rgba(255,255,255,.06), transparent 60%),
        linear-gradient(180deg, var(--brand-bg), var(--brand-bg-2));
      padding: clamp(64px, 8vw, 120px) 0;
      overflow: hidden;
    }

    /* subtle grain without external assets */
    #pro-testimonials::before{
      content:"";
      position:absolute; inset:-2px;
      background:
        conic-gradient(from 90deg at 25% 25%, rgba(255,255,255,.035), rgba(255,255,255,0) 20% 80%, rgba(255,255,255,.035)) 0 0/22px 22px;
      mix-blend-mode: overlay;
      opacity:.45;
      pointer-events:none;
    }

    /* ---------- Layout ---------- */
    #pro-testimonials .wrap{
      width: var(--wrap);
      margin-inline: auto;
      text-align: center;
      filter: drop-shadow(var(--shadow));
    }

    #pro-testimonials h2.title{
      font: italic 800 var(--h1)/1.1 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica Neue, Arial;
      letter-spacing:.5px;
      margin: 0 0 14px;
      text-shadow: 0 2px 0 rgba(0,0,0,.05);
    }

    #pro-testimonials .eyebrow{
      display:inline-block;
      font: 600 var(--body)/1.2 ui-sans-serif, system-ui;
      color: var(--brand-muted);
      letter-spacing:.14em;
      text-transform: uppercase;
      margin-bottom: 10px;
    }

    /* ---------- Slider Shell ---------- */
    #pro-testimonials .slider{
      position: relative;
      margin-top: 14px;
      border-radius: var(--radius);
      background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.02));
      border: 1px solid var(--brand-faint);
      overflow: clip;
    }

    #pro-testimonials .viewport{
      position: relative;
      min-height: 320px;
    }

    #pro-testimonials figure.slide{
      margin: 0;
      width: 100%;
      inset: 0;
      position: absolute;
      display: grid;
      place-items: center;
      padding: clamp(26px, 6vw, 54px);
      opacity: 0;
      transform: translateY(14px) scale(.98);
      transition: opacity var(--slow) var(--e), transform var(--slow) var(--e);
    }

    #pro-testimonials figure.slide.current{
      opacity: 1;
      transform: none;
      position: relative;
    }

    /* Quote styling */
    #pro-testimonials blockquote{
      margin: 0;
      font: 500 var(--lead)/1.5 "Georgia", ui-serif, serif;
      color: var(--brand-ink);
    }

    #pro-testimonials blockquote .q{
      display:block;
    }

    /* decorative smart quotes */
    #pro-testimonials .q::before,
    #pro-testimonials .q::after{
      font-size: 1.2em;
      opacity:.55;
    }
    #pro-testimonials .q::before{ content: "“"; margin-right:.02em }
    #pro-testimonials .q::after { content: "”"; margin-left:.02em }

    /* Person */
    #pro-testimonials figcaption{
      margin-top: 22px;
      color: var(--accent);
      font: 600 var(--body)/1.35 ui-sans-serif, system-ui;
    }
    #pro-testimonials .role{
      display:block;
      font: 500 clamp(13px, 1.6vw, 15px)/1.35 ui-sans-serif, system-ui;
      color: var(--brand-muted);
      margin-top: 4px;
    }

    /* ---------- Controls ---------- */
    #pro-testimonials .controls{
      display:flex;
      align-items:center;
      justify-content:center;
      gap: 12px;
      padding: 14px 14px 18px;
      border-top: 1px solid var(--brand-faint);
    }

    #pro-testimonials .dots{
      display:flex; gap:10px;
    }
    #pro-testimonials .dot{
      width: 9px; height: 9px; border-radius: 999px;
      background: var(--brand-faint);
      outline: none;
      border: 0;
      transition: transform var(--fast) var(--e), background var(--fast) var(--e), width var(--fast) var(--e);
    }
    #pro-testimonials .dot[aria-current="true"]{
      background: var(--brand-ink);
      width: 22px;
      transform: translateY(-1px);
    }

    #pro-testimonials .nav{
      display:flex; gap:10px;
      margin-left: 12px;
    }
    #pro-testimonials .btn{
      appearance:none; border:1px solid var(--brand-faint); background:transparent; color:var(--brand-ink);
      width:38px; height:38px; border-radius:10px; display:grid; place-items:center;
      cursor:pointer; transition: background var(--fast) var(--e), transform var(--fast) var(--e), border-color var(--fast) var(--e);
    }
    #pro-testimonials .btn:hover{ background: rgba(255,255,255,.06) }
    #pro-testimonials .btn:active{ transform: translateY(1px) }
    #pro-testimonials .btn:focus-visible{ outline: 3px solid var(--focus); outline-offset: 2px; }

    /* Progress bar (autoplay) */
    #pro-testimonials .progress{
      --h: 3px;
      position: relative; height: var(--h); background: var(--brand-faint);
      overflow: hidden; border-radius: 999px; margin: 0 12px; flex: 1 1 240px;
    }
    #pro-testimonials .bar{
      width: 0%; height: 100%; background: var(--brand-ink);
      transition: width var(--slow) linear;
    }

    /* ---------- Reveal on scroll ---------- */
    @keyframes rise {
      from { opacity: 0; transform: translateY(12px) }
      to   { opacity: 1; transform: none }
    }
    #pro-testimonials[data-revealed="true"] .title { animation: rise .9s var(--e) both .05s }
    #pro-testimonials[data-revealed="true"] .slider { animation: rise 1s var(--e) both .15s }

    /* ---------- Reduced motion ---------- */
    @media (prefers-reduced-motion: reduce){
      #pro-testimonials figure.slide{ transition: none }
      #pro-testimonials .btn{ transition: none }
      #pro-testimonials .dot{ transition: none }
      #pro-testimonials .bar{ transition: none }
    }
  </style>

  <div class="wrap" data-component="testimonial-slider">
    <div class="eyebrow">What clients say</div>
    <h2 class="title">Testimonials</h2>

    <div class="slider" role="region" aria-roledescription="carousel" aria-label="Testimonials">
      <div class="viewport" aria-live="polite">
        <!-- Slide 1 -->
        <figure class="slide current" data-index="0" itemprop="review" itemscope itemtype="https://schema.org/Review">
          <blockquote itemprop="reviewBody">
            <span class="q">
              Transformative! Entertaining! Life changing! Dr. Mays’ penetrating insight changed the way I
              understand myself and my leadership. He is truly a master in the field of human and organizational development.
            </span>
          </blockquote>
          <figcaption>
            <span itemprop="author" itemscope itemtype="https://schema.org/Person">
              <span itemprop="name">Michelle Madison</span>
            </span>
            <span class="role">CEO, Unity Endowment, Washington DC</span>
          </figcaption>
          <!-- Optional rating microdata (hidden) -->
          <meta itemprop="itemReviewed" content="Keynote & Leadership Workshops">
          <meta itemprop="reviewRating" content="5">
        </figure>

        <!-- Slide 2 (duplicate structure; edit or remove) -->
        <figure class="slide" data-index="1">
          <blockquote><span class="q">
            The workshop reframed our culture in a single afternoon. Practical, human, and immediately applicable.
          </span></blockquote>
          <figcaption>
            Jordan Lee <span class="role">VP Operations, Meridian Labs</span>
          </figcaption>
        </figure>

        <!-- Slide 3 -->
        <figure class="slide" data-index="2">
          <blockquote><span class="q">
            Rare to find a speaker who can challenge assumptions with warmth and humor. Our managers still quote him.
          </span></blockquote>
          <figcaption>
            Priya Desai <span class="role">Director, People & Growth, Northshore Collective</span>
          </figcaption>
        </figure>
      </div>

      <div class="controls">
        <div class="dots" aria-label="Select testimonial"></div>
        <div class="progress" aria-hidden="true"><div class="bar"></div></div>
        <div class="nav" aria-label="Slide controls">
          <button class="btn prev" type="button" aria-label="Previous testimonial" title="Previous">
            <!-- inline chevron -->
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M15 19L8 12L15 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
          <button class="btn next" type="button" aria-label="Next testimonial" title="Next">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M9 5L16 12L9 19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
          <button class="btn pause" type="button" aria-label="Pause autoplay" title="Pause">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M9 5h2v14H9zM13 5h2v14h-2z" fill="currentColor"/></svg>
          </button>
        </div>
      </div>
    </div>
  </div>

  <script>
    (() => {
      const root = document.querySelector('#pro-testimonials');
      const wrap = root?.querySelector('[data-component="testimonial-slider"]');
      if(!wrap) return;

      const viewport = wrap.querySelector('.viewport');
      const slides   = [...viewport.querySelectorAll('.slide')];
      const dotsWrap = wrap.querySelector('.dots');
      const btnPrev  = wrap.querySelector('.prev');
      const btnNext  = wrap.querySelector('.next');
      const btnPause = wrap.querySelector('.pause');
      const bar      = wrap.querySelector('.bar');

      let i = 0;
      let autoplay = true;
      let hold = false;
      const DURATION = 6000; // ms per slide

      // Build dots
      slides.forEach((_, idx) => {
        const b = document.createElement('button');
        b.className = 'dot';
        b.type = 'button';
        b.setAttribute('aria-label', `Show testimonial ${idx+1}`);
        b.addEventListener('click', () => go(idx, true));
        dotsWrap.appendChild(b);
      });

      function updateDots(){
        dotsWrap.querySelectorAll('.dot').forEach((d, idx) => {
          d.setAttribute('aria-current', idx===i ? 'true' : 'false');
        });
      }

      function go(next, user=false){
        const prev = i;
        i = (next + slides.length) % slides.length;
        if(prev === i) return;
        slides[prev].classList.remove('current');
        slides[i].classList.add('current');
        updateDots();
        if(user) restartBar();
      }

      // progress bar
      let barTimer = null, rafId = null, startTs = null;
      function restartBar(){
        if(!autoplay || matchMedia('(prefers-reduced-motion: reduce)').matches) return;
        cancelAnimationFrame(rafId);
        clearTimeout(barTimer);
        bar.style.width = '0%';
        startTs = performance.now();
        const tick = now => {
          const p = Math.min(1, (now - startTs) / DURATION);
          bar.style.width = (p * 100) + '%';
          if(p < 1 && !hold) rafId = requestAnimationFrame(tick);
        };
        rafId = requestAnimationFrame(tick);
        barTimer = setTimeout(() => { if(!hold) { go(i+1); restartBar(); } }, DURATION);
      }

      // Controls
      btnPrev?.addEventListener('click', () => go(i-1, true));
      btnNext?.addEventListener('click', () => go(i+1, true));
      btnPause?.addEventListener('click', () => {
        autoplay = !autoplay;
        btnPause.title = autoplay ? 'Pause' : 'Play';
        btnPause.setAttribute('aria-label', autoplay ? 'Pause autoplay' : 'Resume autoplay');
        if(autoplay){ restartBar(); } else { clearTimeout(barTimer); cancelAnimationFrame(rafId); }
      });

      // Pause on hover/focus
      wrap.addEventListener('pointerenter', () => { hold = true; });
      wrap.addEventListener('pointerleave', () => { hold = false; if(autoplay) restartBar(); });
      wrap.addEventListener('focusin',  () => { hold = true;  });
      wrap.addEventListener('focusout', () => { hold = false; if(autoplay) restartBar(); });

      // Keyboard
      wrap.addEventListener('keydown', (e) => {
        if(e.key === 'ArrowRight'){ e.preventDefault(); go(i+1, true); }
        else if(e.key === 'ArrowLeft'){ e.preventDefault(); go(i-1, true); }
        else if(e.key.toLowerCase() === ' ' || e.key.toLowerCase() === 'k'){
          e.preventDefault(); btnPause.click();
        }
      });

      // Swipe / drag
      let x0 = null;
      wrap.addEventListener('pointerdown', e => { x0 = e.clientX; wrap.setPointerCapture(e.pointerId); });
      wrap.addEventListener('pointerup', e => {
        if(x0 === null) return;
        const dx = e.clientX - x0;
        if(Math.abs(dx) > 35) go(i + (dx < 0 ? 1 : -1), true);
        x0 = null;
      });

      // Start when visible
      const io = new IntersectionObserver(([entry]) => {
        if(entry.isIntersecting){
          root.dataset.revealed = "true";
          if(autoplay && slides.length > 1 && !matchMedia('(prefers-reduced-motion: reduce)').matches){
            restartBar();
          }
          io.disconnect();
        }
      }, { threshold:.35 });
      io.observe(root);

      // Init
      slides[0].classList.add('current');
      updateDots();

      // If only one slide, hide controls
      if(slides.length < 2){
        wrap.querySelector('.controls').style.display = 'none';
      }
    })();
  </script>
</section>
